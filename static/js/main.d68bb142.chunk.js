(this.webpackJsonptechs=this.webpackJsonptechs||[]).push([[0],{104:function(e,t,n){"use strict";var r=n(1),a=n(114),s=n.n(a);t.a=function(){return Object(r.jsx)("div",{className:s.a.bgpreloader,children:Object(r.jsx)("div",{className:"progress",children:Object(r.jsx)("div",{className:"indeterminate"})})})}},113:function(e,t,n){e.exports={error:"TextError_error__1T1lq"}},114:function(e,t,n){e.exports={bgpreloader:"Preloader_bgpreloader__3kkjW"}},117:function(e,t,n){},121:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(105),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"69bc9857-b17c-4142-859f-4409d84efd2a"}}),s={getUsers:function(e,t){return a.get("/users?page=".concat(t,"&count=").concat(e)).then((function(e){return e.data}))},getUserInfo:function(e){return console.log("invalid"),c.getUserInfo(e)},following:function(e){return a.post("/follow/".concat(e))},unfollowing:function(e){return a.delete("/follow/".concat(e))}},c={getUserInfo:function(e){return a.get("/profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("/profile/status/".concat(e)).then((function(e){return e}))},updateStatus:function(e){return a.put("profile/status",e).then((function(e){return e.data}))}},i={me:function(){return a.get("/auth/me").then((function(e){return e.data}))},login:function(e,t,n){return a.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return a.post("/auth/logout").then((function(e){return e.data}))}}},243:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),c=(n(117),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,246)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),i=n(51),o=n.n(i),u=n(3),l=n(4),d=n(7),j=n(8),b=(n(121),n(41)),f=n(11),p=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(f.b,{to:"/profile",className:"btn-floating btn-large waves-effect waves-light red",children:Object(r.jsx)("i",{className:"material-icons",children:"arrow_back"})})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("form",{className:"col s12",children:Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("i",{className:"material-icons prefix",children:"account_circle"}),Object(r.jsx)("textarea",{id:"textarea1",className:"materialize-textarea",onChange:function(t){e.updatePost(t.target.value)},children:" "}),Object(r.jsx)("label",{htmlFor:"textarea1",className:"active",children:"Textarea"}),Object(r.jsxs)(f.b,{to:"/profile",className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:function(){e.addPost()},children:["\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",Object(r.jsx)("i",{className:"material-icons right",children:"send"})]})]})})})]})},g=n(13),h=Object(g.b)((function(e){return{}}),(function(e){return{addPost:function(){e(Object(b.a)())},updatePost:function(t){e(Object(b.e)(t))}}}))(p),m=n(25),O=n.n(m),x=n(12),v=n(2),w="ADD-NEW-MESSAGE",_="CHANGE-NEW-MESSAGE",T={dialogs:[{name:"Alexander",id:1},{name:"Alexander1",id:2},{name:"Alexander2",id:3},{name:"Alexander3",id:4},{name:"Alexander5",id:5},{name:"Alexander6",id:6},{name:"Alexander7",id:7},{name:"Alexander8",id:8}],messages:[{msg:"1This is a square image. Add the  class to it to make it appear circular.",id:1,imgsrc:"https://via.placeholder.com/300"},{msg:"2This is a square image. Add the  class to it to make it appear circular.",id:2,imgsrc:"https://via.placeholder.com/300"},{msg:"3This is a square image. Add the  class to it to make it appear circular.",id:3,imgsrc:"https://via.placeholder.com/300"},{msg:"it to make it appear circular.",id:4,imgsrc:"https://via.placeholder.com/300"},{msg:"5This is a square image. Add the  class to it to make it appear circular.",id:5,imgsrc:"https://via.placeholder.com/300"},{msg:"This is a square image. Add the  class to it to make it appear circular.",id:6,imgsrc:"https://via.placeholder.com/300"}],newMessageText:"test text"},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var n={msg:e.newMessageText,id:Date.now()};return Object(v.a)(Object(v.a)({},e),{},{newMessageText:"",messages:[n].concat(Object(x.a)(e.messages))});case _:return Object(v.a)(Object(v.a)({},e),{},{newMessageText:t.newText});default:return e}},N=n(81),E=n(22),S=n(14),A=n.n(S),P=n(27),k=n(20),I="SET_USER_DATA",C={login:null,id:null,email:null,isAuth:!1},U=function(e,t,n,r){return{type:I,login:e,id:t,email:n,isAuth:r}},M=function(){return function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.me();case 2:0===(n=e.sent).resultCode&&t(U(n.data.login,n.data.id,n.data.email,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(v.a)(Object(v.a)({},e),{},{login:t.login,id:t.id,email:t.email,isAuth:t.isAuth});default:return e}},F=n(107),D="INITIALIZED_SUCCESS",z={initialized:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},q=Object(E.c)({dialogsPage:y,profilePage:b.b,usersPage:N.a,auth:L,app:G}),W=Object(E.e)(q,Object(E.a)(F.a)),R=W.getState().dialogsPage.dialogs.map((function(e){return Object(r.jsxs)(f.b,{to:"/dialogs/".concat(e.id),className:"collection-item",children:[Object(r.jsx)("span",{className:"badge",children:"1"}),e.name]},e.id)})),H=function(){return Object(r.jsx)("div",{className:"collection "+O.a.dialogsList,children:R})},J=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("textarea",{className:"materialize-textarea",value:e.newMessageText,onChange:function(t){e.onChangeNewMessage(t.target.value)}}),Object(r.jsx)("button",{onClick:function(){e.addNewMessage()},children:">"})]})},B=Object(g.b)((function(e){return{newMessageText:e.dialogsPage.newMessageText}}),(function(e){return{addNewMessage:function(){e({type:w})},onChangeNewMessage:function(t){e(function(e){return{type:_,newText:e}}(t))}}}))(J),V=function(e){var t=e.messages.map((function(e){return Object(r.jsxs)("div",{className:O.a.messageItem,children:[Object(r.jsx)("button",{className:"btn-floating btn-large waves-effect waves-light red",children:"\u0410\u041a"}),Object(r.jsx)("p",{className:O.a.messageText,children:e.msg})]},e.id)}));return Object(r.jsx)("div",{children:t})},Z=Object(g.b)((function(e){return{messages:e.dialogsPage.messages}}),(function(e){return{}}))(V),K=function(){return Object(r.jsx)("div",{className:O.a.messages,children:Object(r.jsxs)("div",{className:"col s12 m8 offset-m2 l6 offset-l3",children:[Object(r.jsx)(B,{}),Object(r.jsx)(Z,{})]})})},Q=function(){return Object(r.jsxs)("div",{className:O.a.dialogsWrapper,children:[Object(r.jsx)(H,{}),Object(r.jsx)(K,{})]})},X=n(9),Y=n(71),$=n.n(Y),ee=n(58),te=n.n(ee),ne=function(e){return Object(r.jsx)("nav",{className:te.a.nav,children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/",children:"Index"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/users",children:"Users"})}),Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/dialogs",children:"Dialogs"})}),e.props.login?Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/profile/".concat(e.props.id),children:e.props.login})}):Object(r.jsx)("li",{children:Object(r.jsx)(f.b,{to:"/login",children:"Login"})}),Object(r.jsx)("li",{onClick:e.props.logaut,className:null!==e.props.login?te.a.show:te.a.none,children:Object(r.jsx)(f.b,{to:"/login",children:"Log out"})})]})})},re=function(e){return Object(r.jsxs)("header",{className:$.a.header,children:[Object(r.jsx)("a",{className:$.a.logo,href:"/",children:Object(r.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"search"})}),Object(r.jsx)(ne,{props:e})]})},ae=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(re,Object(v.a)({},this.props))}}]),n}(s.a.Component),se=Object(g.b)((function(e){return{login:e.auth.login,id:e.auth.id,email:e.auth.email}}),{logaut:function(e){return function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===k.a.logout().resultCode&&t(U(null,null,null,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ae),ce=n(31),ie=n(59),oe=n(113),ue=n.n(oe),le=function(e){return Object(r.jsx)("div",{className:ue.a.error,children:e.children})},de=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=ie.a({email:ie.b("Enter your email").email("Enter a valid email").required("Email is required"),password:ie.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});return this.props.isAuth?Object(r.jsx)(X.a,{to:"/profile"}):Object(r.jsx)(ce.d,{initialValues:{email:"",password:"",toggle:!0,address:""},validationSchema:t,onSubmit:function(t){e.props.login(t)},children:Object(r.jsxs)(ce.c,{children:[Object(r.jsx)(ce.b,{type:"email",name:"email",placeholder:"email"}),Object(r.jsx)(ce.a,{name:"email",component:le}),Object(r.jsx)(ce.b,{type:"password",name:"password",placeholder:"password"}),Object(r.jsx)(ce.a,{name:"password",component:le}),Object(r.jsx)(ce.b,{type:"checkbox",name:"toggle"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})}}]),n}(s.a.Component),je=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}))(de),be=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(je,{login:this.props.login})}}]),n}(s.a.Component),fe=Object(E.d)(Object(g.b)((function(e){return{}}),{login:function(e){return function(){var t=Object(P.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.login(e.email,e.password,e.toggle);case 2:0===t.sent.resultCode&&n(M());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(be),pe=n(104),ge=function(e){return function(t){return Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(r.jsx)(e,Object(v.a)({},t))})}},he=s.a.lazy((function(){return n.e(4).then(n.bind(null,247))})),me=s.a.lazy((function(){return n.e(3).then(n.bind(null,248))})),Oe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initializeApp?Object(r.jsx)(f.a,{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(se,{}),Object(r.jsxs)(X.d,{children:[Object(r.jsx)(X.b,{path:"/profile/:userId?",render:ge(he)}),Object(r.jsx)(X.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Q,{})}}),Object(r.jsx)(X.b,{path:"/users",render:ge(me)}),Object(r.jsx)(X.b,{path:"/addpost",render:function(){return Object(r.jsx)(h,{})}}),Object(r.jsx)(X.b,{path:"/login",render:function(){return Object(r.jsx)(fe,{})}})]})]})}):Object(r.jsx)(pe.a,{})}}]),n}(s.a.Component),xe=Object(E.d)(X.g,Object(g.b)((function(e){return{initializeApp:e.app.initialized}}),{initialize:function(){return function(e){var t=e(M());Promise.all([t]).then((function(){e({type:D})}))}}}))(Oe);o.a.render(Object(r.jsx)(f.a,{basename:"/tech",children:Object(r.jsx)(g.a,{store:W,children:Object(r.jsx)(xe,{})})}),document.getElementById("root")),c()},25:function(e,t,n){e.exports={dialogsWrapper:"Messenger_dialogsWrapper__2OagM",dialogsList:"Messenger_dialogsList__1SlXZ",messages:"Messenger_messages__2J2rP",messageItem:"Messenger_messageItem__3OEF-",messageText:"Messenger_messageText__2IoFQ"}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m}));var r=n(12),a=n(2),s=n(20),c="ADD-NEW-POST",i="DELETE_POST",o="CHANGE-NEW-POST",u="SET_USER",l="SET_STATUS",d="UPDATE_STATUS",j={posts:[{id:"0",imgPost:"https://social-network.samuraijs.com/activecontent/images/users/16277/user.jpg?v=2",text:"text"},{id:"1",imgPost:"https://social-network.samuraijs.com/activecontent/images/users/16277/user.jpg?v=2",text:"text"}],user:"",status:"",newPostText:""},b=function(e){return{type:c,newPostText:e}},f=function(e){return{type:o,newText:e}},p=function(e){return{type:l,status:e}},g=function(e){return function(t){s.c.getUserInfo(e).then((function(e){t({type:u,user:e})}))}},h=function(e){return function(t){s.b.getStatus(e).then((function(e){200===e.status&&t(p(e.data))}))}},m=function(e){return function(t){s.b.updateStatus({status:e}).then((function(e){0===e.resultCode&&t(p(e.data.status))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={text:t.newPostText,imgPost:"https://social-network.samuraijs.com/activecontent/images/users/16277/user.jpg?v=2"},s=Object(a.a)({},e);return s.posts=Object(r.a)(s.posts),s.posts.unshift(n),s;case i:return Object(a.a)(Object(a.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case o:var b=Object(a.a)({},e);return b.newPostText=t.newText,b;case u:return Object(a.a)(Object(a.a)({},e),{},{user:t.user});case l:case d:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});default:return e}}},58:function(e,t,n){e.exports={nav:"Navigation_nav__E2tS8",none:"Navigation_none__1ItzI",show:"Navigation_show__nSI-H"}},71:function(e,t,n){e.exports={header:"Header_header__VTLEp",logo:"Header_logo__267T5"}},81:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return T})),n.d(t,"f",(function(){return y}));var r=n(14),a=n.n(r),s=n(27),c=n(12),i=n(2),o=n(20),u="FOLLOW",l="SET_USERS",d="SELECT_PAGE",j="TOGGLE_PRELOADER",b="GET_TOTAL_USERS",f="TOOGLE_FOLLOWING_IN_PROGRESS",p="IS_AUTH",g={users:[],rowsPerPage:10,currentPage:1,totalUsers:0,isFetching:!1,followingInProgress:[]},h=function(e){return{type:u,id:e}},m=function(e){return{type:d,page:e}},O=function(e){return{type:b,totalUsers:e}},x=function(e){return{type:j,isFetching:e}},v=function(e,t){return{type:f,isFetching:e,userID:t}},w=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),n.next=3,o.c.getUsers(e,t);case 3:s=n.sent,r({type:l,users:s}),r(x(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0,n)),e.next=3,r(n);case 3:0==e.sent.data.resultCode&&t(h(n)),t(v(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),T=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,o.c.following);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,o.c.unfollowing);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{followed:!e.followed}):e}))});case l:return Object(i.a)(Object(i.a)({},e),{},{users:Object(c.a)(t.users.items),totalUsers:t.users.totalCount});case p:return Object(i.a)(Object(i.a)({},e),{},{isAuth:t.body});case d:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.page+1});case b:return Object(i.a)(Object(i.a)({},e),{},{totalUsers:t.totalUsers});case j:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case f:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.isFetching]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}}},[[243,1,2]]]);
//# sourceMappingURL=main.d68bb142.chunk.js.map